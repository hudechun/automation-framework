# AI论文写作系统 - 实现任务列表

## 概述

本任务列表将设计文档转化为可执行的开发任务。任务按照P0（核心功能）、P1（重要功能）、P2（增强功能）的优先级组织，每个任务都引用了相关的需求条款。

## 任务列表

### P0: 核心功能（第一期）

- [x] 1. 数据库设计与初始化 ✅ **已完成 2026-01-25**
  - 创建所有核心数据库表结构（13张表）
  - 编写数据库迁移脚本（thesis_schema.sql）
  - 初始化基础数据（3个套餐、5个功能服务）
  - 完全符合RuoYi规范（表前缀ai_write_、标准字段、软删除）
  - _需求: 所有功能的数据基础_
  - _文件: RuoYi-Vue3-FastAPI/ruoyi-fastapi-backend/sql/thesis_schema.sql_
  - _文档: .kiro/specs/ai-thesis-writing/DATABASE_SCHEMA_COMPLETE.md_

- [ ] 2. 会员权益管理模块
  - [ ] 2.1 实现会员套餐数据模型和DAO
    - 创建 `MemberPackage`、`UserMembership`、`UserFeatureQuota` 实体类
    - 实现套餐CRUD操作的DAO层
    - _需求: 2.2.1_
  
  - [ ] 2.2 实现会员服务层
    - 实现配额检查和扣减逻辑
    - 实现功能权限验证
    - 实现会员过期自动降级
    - _需求: 2.2.1, 2.2.2_
  
  - [ ] 2.3 实现会员权限中间件
    - 创建配额验证中间件
    - 创建功能权限验证中间件
    - _需求: 2.2.2_
  
  - [ ] 2.4 实现会员管理API
    - GET /api/thesis/member/packages - 获取套餐列表
    - GET /api/thesis/member/quota - 获取用户配额
    - GET /api/thesis/member/check-feature - 检查功能权限
    - _需求: 2.2.1, 2.2.2_

- [ ] 3. 论文基础管理模块
  - [ ] 3.1 实现论文数据模型和DAO
    - 创建 `Thesis`、`ThesisOutline`、`Chapter` 实体类
    - 实现论文CRUD操作的DAO层
    - _需求: 2.3.1_
  
  - [ ] 3.2 实现论文创建功能
    - 实现论文创建服务
    - 实现表单验证逻辑
    - 实现草稿保存
    - _需求: 2.3.1_
  
  - [ ] 3.3 实现论文管理API
    - POST /api/thesis/paper/create - 创建论文
    - GET /api/thesis/paper/{thesis_id} - 获取论文详情
    - GET /api/thesis/paper/list - 获取论文列表
    - DELETE /api/thesis/paper/{thesis_id} - 删除论文
    - _需求: 2.3.1_


- [ ] 4. AI大纲生成模块
  - [ ] 4.1 实现AI服务基础架构
    - 创建AI服务抽象接口
    - 集成通义千问API
    - 实现Prompt模板管理
    - _需求: 2.3.2_
  
  - [ ] 4.2 实现大纲生成服务
    - 实现大纲生成Prompt构建
    - 实现大纲响应解析
    - 实现大纲保存逻辑
    - _需求: 2.3.2_
  
  - [ ] 4.3 实现大纲管理功能
    - 实现大纲手动调整
    - 实现章节添加/删除/移动
    - _需求: 2.3.2_
  
  - [ ] 4.4 实现大纲API
    - POST /api/thesis/paper/{thesis_id}/outline/generate - 生成大纲
    - PUT /api/thesis/paper/{thesis_id}/outline - 更新大纲
    - _需求: 2.3.2_

- [ ] 5. AI内容生成模块
  - [ ] 5.1 实现章节内容生成服务
    - 实现生成上下文构建
    - 实现章节内容Prompt构建
    - 实现内容生成和保存
    - 实现字数统计
    - _需求: 2.3.3_
  
  - [ ] 5.2 实现配额扣减逻辑
    - 在内容生成前检查配额
    - 在内容生成后扣减配额
    - 记录配额使用记录
    - _需求: 2.2.1, 2.3.3_
  
  - [ ] 5.3 实现章节管理API
    - POST /api/thesis/paper/{thesis_id}/chapter/{chapter_id}/generate - 生成章节
    - POST /api/thesis/paper/{thesis_id}/chapter/{chapter_id}/regenerate - 重新生成
    - PUT /api/thesis/paper/{thesis_id}/chapter/{chapter_id} - 更新章节
    - _需求: 2.3.3, 2.3.4_

- [ ] 5.5. 实现核心工具类（新增）
  - [ ] 5.5.1 实现格式模板解析器（DocxParser）
    - 使用python-docx解析Word文档
    - 提取页面设置（页边距、纸张大小）
    - 提取样式信息（字体、字号、行距、对齐方式）
    - 提取章节结构和编号格式
    - 提取页眉页脚格式
    - _文件: module_thesis/utils/docx_parser.py_
    - _需求: 2.1.1, 2.3.6_
  
  - [ ] 5.5.2 实现格式提示词生成器（FormatPromptGenerator）
    - 将格式信息转换为AI可理解的文本描述
    - 生成页面设置描述
    - 生成样式要求描述
    - 生成章节结构描述
    - _文件: module_thesis/utils/format_prompt_generator.py_
    - _需求: 2.3.2, 2.3.3_
  
  - [ ] 5.5.3 实现Word文档生成器（DocxFormatter）
    - 使用python-docx创建新文档
    - 应用页面设置
    - 应用样式到标题和正文
    - 添加封面、目录、页眉页脚
    - 精确控制格式（字体、字号、行距等）
    - _文件: module_thesis/utils/docx_formatter.py_
    - _需求: 2.3.6, 2.3.7_

- [ ] 6. 格式应用与导出模块
  - [ ] 6.1 实现Word文档格式化器
    - 实现页面设置应用
    - 实现样式应用
    - 实现章节内容添加
    - 实现目录自动生成
    - _需求: 2.3.6_
  
  - [ ] 6.2 实现论文导出服务
    - 实现论文格式化
    - 实现Word文档生成
    - 实现文件存储
    - 实现导出记录保存
    - _需求: 2.3.7_
  
  - [ ] 6.3 实现导出API
    - POST /api/thesis/paper/{thesis_id}/export - 导出论文
    - GET /api/thesis/export/list - 获取导出记录
    - GET /api/thesis/export/{record_id}/download - 下载文件
    - _需求: 2.3.7_

- [ ] 7. 支付系统集成
  - [ ] 7.1 实现支付服务基础架构
    - 集成微信支付SDK
    - 集成支付宝SDK
    - 实现订单数据模型和DAO
    - _需求: 2.4.1_
  
  - [ ] 7.2 实现订单创建和支付
    - 实现订单创建服务
    - 实现微信支付接口调用
    - 实现支付宝支付接口调用
    - _需求: 2.4.1, 2.4.2, 2.4.3_
  
  - [ ] 7.3 实现支付回调处理
    - 实现微信支付回调验证和处理
    - 实现支付宝支付回调验证和处理
    - 实现会员自动开通
    - _需求: 2.4.2, 2.4.3_
  
  - [ ] 7.4 实现支付API
    - POST /api/thesis/payment/order/create - 创建订单
    - GET /api/thesis/payment/order/{order_id}/status - 查询订单状态
    - POST /api/thesis/payment/wechat/callback - 微信回调
    - POST /api/thesis/payment/alipay/callback - 支付宝回调
    - _需求: 2.4.1, 2.4.2, 2.4.3_

- [ ] 8. 检查点 - P0功能验证
  - 确保所有P0功能的单元测试通过
  - 进行端到端测试（创建论文 → 生成大纲 → 生成内容 → 导出）
  - 验证支付流程
  - 询问用户是否有问题

---

### P1: 重要功能（第二期）

- [ ] 9. 格式模板管理模块
  - [ ] 9.1 实现Word文档解析器
    - 实现文档格式规则提取
    - 实现样式信息解析
    - 实现章节结构提取
    - _需求: 2.1.1_
  
  - [ ] 9.2 实现模板数据模型和DAO
    - 创建 `Template`、`TemplateFormat` 实体类
    - 实现模板CRUD操作的DAO层
    - _需求: 2.1.1, 2.1.2_
  
  - [ ] 9.3 实现模板管理服务
    - 实现模板上传和解析
    - 实现模板手动调整
    - 实现模板应用到论文
    - _需求: 2.1.1, 2.1.2_
  
  - [ ] 9.4 实现模板管理API
    - POST /api/thesis/template/upload - 上传模板
    - GET /api/thesis/template/list - 获取模板列表
    - GET /api/thesis/template/{template_id} - 获取模板详情
    - PUT /api/thesis/template/{template_id} - 更新模板
    - DELETE /api/thesis/template/{template_id} - 删除模板
    - _需求: 2.1.1, 2.1.2, 2.1.3_

- [ ] 10. AI优化功能模块
  - [ ] 10.1 实现去AI化处理服务
    - 实现AI痕迹识别
    - 实现句式改写
    - 实现人性化表达增强
    - _需求: 2.3.5_
  
  - [ ] 10.2 实现内容润色服务
    - 实现语法检查
    - 实现逻辑优化
    - 实现表达优化
    - _需求: 2.3.5_
  
  - [ ] 10.3 实现AIGC检测服务
    - 集成AIGC检测模型
    - 实现检测率预估
    - _需求: 2.3.5_
  
  - [ ] 10.4 实现AI优化API
    - POST /api/thesis/ai/de-ai - 去AI化处理
    - POST /api/thesis/ai/polish - 内容润色
    - POST /api/thesis/ai/estimate-aigc - AIGC检测
    - _需求: 2.3.5_

- [ ] 11. 历史记录管理模块
  - [ ] 11.1 实现自动保存服务
    - 实现定时保存调度
    - 实现待保存数据管理
    - 实现批量保存
    - _需求: 2.5.1_
  
  - [ ] 11.2 实现版本控制服务
    - 实现版本快照创建
    - 实现版本恢复
    - 实现版本对比
    - _需求: 2.5.2_
  
  - [ ] 11.3 实现草稿管理功能
    - 实现草稿列表和搜索
    - 实现草稿重命名
    - 实现草稿软删除和恢复
    - _需求: 2.5.1_
  
  - [ ] 11.4 实现版本管理API
    - POST /api/thesis/paper/{thesis_id}/version/create - 创建版本
    - GET /api/thesis/paper/{thesis_id}/version/list - 获取版本列表
    - POST /api/thesis/paper/{thesis_id}/version/{version_id}/restore - 恢复版本
    - GET /api/thesis/paper/{thesis_id}/version/compare - 对比版本
    - _需求: 2.5.2_

- [ ] 12. 检查点 - P1功能验证
  - 确保所有P1功能的单元测试通过
  - 测试模板上传和应用流程
  - 测试AI优化功能
  - 测试版本控制功能
  - 询问用户是否有问题

---

### P2: 增强功能（第三期）

- [ ] 13. 查重功能模块
  - [ ] 13.1 实现查重服务
    - 集成查重API或本地查重引擎
    - 实现查重率预估
    - 实现重复内容标注
    - _需求: 2.3.5_
  
  - [ ] 13.2 实现查重API
    - POST /api/thesis/ai/check-plagiarism - 查重检测
    - _需求: 2.3.5_

- [ ] 14. 人工审核功能模块
  - [ ] 14.1 实现审核工作流
    - 实现审核任务创建
    - 实现审核状态管理
    - 实现审核意见反馈
    - _需求: 2.6.3_
  
  - [ ] 14.2 实现审核管理API
    - GET /api/thesis/admin/review/list - 待审核列表
    - POST /api/thesis/admin/review/{thesis_id}/approve - 审核通过
    - POST /api/thesis/admin/review/{thesis_id}/reject - 审核拒绝
    - _需求: 2.6.3_

- [ ] 15. 管理后台功能
  - [ ] 15.1 实现用户管理功能
    - 实现用户列表和详情查询
    - 实现账号冻结/解冻
    - 实现配额手动调整
    - _需求: 2.6.1_
  
  - [ ] 15.2 实现订单管理功能
    - 实现订单列表和详情查询
    - 实现退款处理
    - 实现财务报表生成
    - _需求: 2.6.2_
  
  - [ ] 15.3 实现系统配置功能
    - 实现套餐配置管理
    - 实现功能服务配置
    - 实现AI模型配置
    - 实现支付参数配置
    - _需求: 2.6.4_
  
  - [ ] 15.4 实现管理后台API
    - GET /api/thesis/admin/user/list - 用户列表
    - PUT /api/thesis/admin/user/{user_id}/quota - 调整配额
    - GET /api/thesis/admin/order/list - 订单列表
    - POST /api/thesis/admin/order/{order_id}/refund - 退款
    - _需求: 2.6.1, 2.6.2, 2.6.4_

- [ ] 16. 数据统计与报表
  - [ ] 16.1 实现统计服务
    - 实现用户统计
    - 实现订单统计
    - 实现论文生成统计
    - 实现AI服务调用统计
    - _需求: 2.6.2_
  
  - [ ] 16.2 实现报表API
    - GET /api/thesis/admin/stats/overview - 概览统计
    - GET /api/thesis/admin/stats/users - 用户统计
    - GET /api/thesis/admin/stats/orders - 订单统计
    - GET /api/thesis/admin/stats/usage - 使用统计
    - _需求: 2.6.2_

- [ ] 17. 检查点 - P2功能验证
  - 确保所有P2功能的单元测试通过
  - 测试查重功能
  - 测试人工审核流程
  - 测试管理后台功能
  - 询问用户是否有问题

---

### 测试任务

- [ ] 18. 单元测试
  - [ ] 18.1 编写Service层单元测试
    - 测试会员服务
    - 测试论文服务
    - 测试AI服务
    - 测试支付服务
  
  - [ ] 18.2 编写DAO层单元测试
    - 测试所有DAO的CRUD操作
  
  - [ ] 18.3 编写工具类单元测试
    - 测试Word文档解析器
    - 测试Word文档格式化器

- [ ] 19. 属性测试（Property-Based Tests）
  - [ ] 19.1 编写模板管理属性测试
    - Property 1: 模板解析往返一致性
    - Property 2: 模板软删除不可见性
    - Property 3: 模板筛选正确性
    - Property 4: 模板搜索包含性
  
  - [ ] 19.2 编写会员权益属性测试
    - Property 5: 配额扣减一致性
    - Property 6: 使用次数递增性
    - Property 7: 会员过期自动降级
    - Property 8: 权限访问控制
    - Property 9: 配额不足拒绝
  
  - [ ] 19.3 编写论文创作属性测试
    - Property 10: 论文创建信息完整性
    - Property 11: 表单验证拒绝无效输入
    - Property 12: 大纲结构完整性
    - Property 13: 大纲结构类型匹配
    - Property 14: 章节生成顺序性
    - Property 15: 字数统计准确性
  
  - [ ] 19.4 编写AI优化属性测试
    - Property 19: 去AI化降低检测率
    - Property 20: 降重降低相似度
    - Property 21: AIGC检测率范围有效性
    - Property 22: 查重率范围有效性
  
  - [ ] 19.5 编写格式应用属性测试
    - Property 23: 格式应用一致性
    - Property 24: 标题层级格式匹配
    - Property 25: 目录包含所有章节
    - Property 26: 图表编号连续性
  
  - [ ] 19.6 编写导出属性测试
    - Property 27: 导出格式有效性
    - Property 28: 导出格式保留性
    - Property 29: 导出文件命名规范
    - Property 30: 导出记录创建
  
  - [ ] 19.7 编写支付属性测试
    - Property 31: 订单创建完整性
    - Property 32: 支付成功会员激活
    - Property 33: 支付回调状态同步
    - Property 34: 退款会员停用
  
  - [ ] 19.8 编写历史记录属性测试
    - Property 35: 草稿自动保存间隔
    - Property 36: 草稿软删除可恢复性
    - Property 37: 草稿搜索匹配性
    - Property 38: 版本恢复状态一致性
    - Property 39: 版本列表顺序性

- [ ] 20. 集成测试
  - [ ] 20.1 编写API集成测试
    - 测试所有API端点
    - 测试认证和授权
    - 测试错误处理
  
  - [ ] 20.2 编写数据库集成测试
    - 测试事务处理
    - 测试并发操作
  
  - [ ] 20.3 编写第三方服务集成测试（Mock）
    - Mock AI服务调用
    - Mock支付接口调用

- [ ] 21. 端到端测试
  - [ ] 21.1 测试完整论文创作流程
    - 创建论文 → 生成大纲 → 生成内容 → 编辑 → 导出
  
  - [ ] 21.2 测试支付流程
    - 选择套餐 → 创建订单 → 支付 → 会员激活
  
  - [ ] 21.3 测试AI优化流程
    - 生成内容 → 去AI化 → 润色 → 检测

---

## 注意事项

1. **测试优先**: 每个功能实现后立即编写对应的单元测试和属性测试
2. **增量开发**: 按照P0 → P1 → P2的顺序开发，确保核心功能优先
3. **代码审查**: 每个任务完成后进行代码审查
4. **文档更新**: 及时更新API文档和开发文档
5. **性能监控**: 关注AI服务调用耗时和数据库查询性能
6. **安全检查**: 确保所有敏感数据加密，所有API有权限验证

## 属性测试配置

- 使用Hypothesis库进行属性测试
- 每个属性测试最少运行100次迭代
- 每个测试必须引用设计文档中的属性编号
- 标签格式: `# Feature: ai-thesis-writing, Property {number}: {property_text}`

---

### 前端开发任务

- [ ] 22. UI设计系统实现
  - [ ] 22.1 创建设计系统基础
    - 实现色彩系统CSS变量
    - 实现字体系统
    - 实现间距和圆角系统
    - 实现阴影系统
    - _参考: ui-design.md 第2节_
  
  - [ ] 22.2 实现基础组件库
    - 实现Button组件（主按钮、次要按钮、AI按钮）
    - 实现Input组件（文本、数字、下拉）
    - 实现Card组件（基础卡片、AI功能卡片）
    - 实现Badge组件（状态徽章、会员徽章）
    - 实现Progress组件（进度条、配额进度）
    - 实现Modal组件（标准模态框、确认对话框）
    - 实现Table组件（数据表格、分页）
    - 实现Toast组件（通知提示）
    - _参考: ui-design.md 第3节_
  
  - [ ] 22.3 实现布局组件
    - 实现顶部导航栏
    - 实现侧边栏（可折叠）
    - 实现主内容区容器
    - 实现底部组件
    - 实现响应式布局
    - _参考: ui-design.md 第4节_

- [ ] 23. 论文管理前端模块
  - [ ] 23.1 首页/论文列表页
    - 实现欢迎卡片（用户信息、配额显示）
    - 实现论文卡片网格
    - 实现筛选器（状态、时间、关键词）
    - 实现排序功能
    - 实现创建论文按钮
    - _参考: ui-design.md 第5.1节_
  
  - [ ] 23.2 创建论文页面
    - 实现步骤指示器组件
    - 实现基本信息表单
    - 实现模板选择界面
    - 实现大纲生成界面
    - 实现表单验证
    - 实现实时预览
    - _参考: ui-design.md 第5.2节_
  
  - [ ] 23.3 论文编辑页面
    - 实现三栏布局（章节导航、编辑器、工具面板）
    - 集成富文本编辑器（TinyMCE/Quill）
    - 实现章节导航树
    - 实现拖拽排序
    - 实现全屏模式
    - 实现字数统计
    - 实现自动保存
    - _参考: ui-design.md 第5.3节_
  
  - [ ] 23.4 论文详情页面
    - 实现论文信息展示
    - 实现章节列表
    - 实现操作按钮（编辑、导出、删除）
    - 实现版本历史列表

- [ ] 24. AI功能前端模块
  - [ ] 24.1 大纲生成界面
    - 实现AI生成按钮（带动画）
    - 实现生成进度显示
    - 实现大纲编辑器
    - 实现章节添加/删除/移动
    - 实现大纲预览
  
  - [ ] 24.2 内容生成界面
    - 实现章节选择
    - 实现生成按钮
    - 实现打字机效果动画
    - 实现暂停/继续按钮
    - 实现重新生成按钮
  
  - [ ] 24.3 AI优化工具面板
    - 实现去AI化按钮
    - 实现内容润色按钮
    - 实现AIGC检测按钮
    - 实现查重按钮
    - 实现优化进度显示
    - 实现结果对比视图

- [ ] 25. 会员与支付前端模块
  - [ ] 25.1 会员套餐页面
    - 实现套餐对比表格
    - 实现推荐标签
    - 实现功能列表展示
    - 实现购买按钮
    - 实现单项功能购买入口
    - _参考: ui-design.md 第5.4节_
  
  - [ ] 25.2 单项功能购买页面
    - 实现功能服务列表
    - 实现套餐包展示
    - 实现价格计算器
    - 实现购买按钮
  
  - [ ] 25.3 支付页面
    - 实现订单确认界面
    - 实现支付方式选择
    - 实现二维码展示
    - 实现支付状态轮询
    - 实现倒计时
    - 实现支付成功/失败页面
    - _参考: ui-design.md 第5.5节_
  
  - [ ] 25.4 配额管理页面
    - 实现配额概览卡片
    - 实现使用记录列表
    - 实现充值记录列表
    - 实现配额进度条

- [ ] 26. 模板管理前端模块
  - [ ] 26.1 模板列表页面
    - 实现模板卡片网格
    - 实现筛选器（学校、专业、学历）
    - 实现搜索功能
    - 实现热门推荐
  
  - [ ] 26.2 模板上传页面（管理员）
    - 实现文件上传组件
    - 实现元数据表单
    - 实现解析结果预览
    - 实现手动调整界面
  
  - [ ] 26.3 模板详情页面
    - 实现格式规则展示
    - 实现章节结构展示
    - 实现预览功能
    - 实现应用按钮

- [ ] 27. 管理后台前端模块
  - [ ] 27.1 仪表盘页面
    - 实现统计卡片（用户数、订单数、收入）
    - 实现图表（用户增长、订单趋势）
    - 实现最近活动列表
  
  - [ ] 27.2 用户管理页面
    - 实现用户列表表格
    - 实现筛选和搜索
    - 实现用户详情抽屉
    - 实现配额调整对话框
    - 实现账号冻结/解冻
  
  - [ ] 27.3 订单管理页面
    - 实现订单列表表格
    - 实现订单详情抽屉
    - 实现退款对话框
    - 实现财务报表导出
  
  - [ ] 27.4 系统配置页面
    - 实现套餐配置表单
    - 实现功能服务配置
    - 实现AI模型配置
    - 实现支付参数配置

- [ ] 28. 状态管理与路由
  - [ ] 28.1 实现Pinia Store
    - 实现用户Store（用户信息、配额）
    - 实现论文Store（论文列表、当前论文）
    - 实现会员Store（套餐信息、订单）
    - 实现UI Store（加载状态、通知）
  
  - [ ] 28.2 实现Vue Router配置
    - 配置路由表
    - 实现路由守卫（权限验证）
    - 实现路由懒加载
    - 实现面包屑导航
  
  - [ ] 28.3 实现API客户端
    - 封装Axios实例
    - 实现请求拦截器（添加Token）
    - 实现响应拦截器（错误处理）
    - 实现API方法（对应所有后端接口）

- [ ] 29. 交互与动画
  - [ ] 29.1 实现加载状态
    - 实现骨架屏组件
    - 实现加载指示器
    - 实现进度条动画
  
  - [ ] 29.2 实现反馈提示
    - 实现Toast通知系统
    - 实现确认对话框
    - 实现错误提示
  
  - [ ] 29.3 实现动画效果
    - 实现页面切换动画
    - 实现卡片悬停效果
    - 实现按钮点击效果
    - 实现AI生成打字机效果
    - _参考: ui-design.md 第6节_

- [ ] 30. 检查点 - 前端功能验证
  - 确保所有页面响应式适配
  - 测试所有交互流程
  - 验证UI设计规范遵循
  - 进行可访问性测试
  - 询问用户是否有问题

---

### 单项功能购买实现任务

- [ ] 31. 单项功能购买后端实现
  - [ ] 31.1 实现功能服务数据模型
    - 创建 `FeatureService`、`FeatureServicePackage` 实体类
    - 实现功能服务CRUD的DAO层
    - _需求: 设计文档 3.2.1节_
  
  - [ ] 31.2 实现功能配额管理服务
    - 实现功能配额创建
    - 实现功能配额扣减
    - 实现功能配额查询
    - 实现配额过期处理
    - _需求: 设计文档 3.2.1节_
  
  - [ ] 31.3 实现功能服务购买流程
    - 实现功能服务订单创建
    - 实现支付集成（复用现有支付服务）
    - 实现支付成功后配额发放
    - _需求: 设计文档 3.2.1节_
  
  - [ ] 31.4 实现功能服务API
    - GET /api/thesis/feature-service/list - 获取功能服务列表
    - GET /api/thesis/feature-service/packages - 获取套餐包列表
    - POST /api/thesis/feature-service/purchase - 购买功能服务
    - GET /api/thesis/feature-service/quota - 获取功能配额
    - _需求: 设计文档 3.2.1节_
  
  - [ ] 31.5 修改AI优化服务以支持功能配额
    - 修改去AI化服务检查功能配额
    - 修改内容润色服务检查功能配额
    - 修改AIGC检测服务检查功能配额
    - 修改查重服务检查功能配额
    - 实现配额不足时的提示和购买引导

- [ ] 32. 检查点 - 单项功能购买验证
  - 测试功能服务购买流程
  - 测试配额扣减逻辑
  - 测试配额不足提示
  - 询问用户是否有问题

---

### 前后端集成任务

- [ ] 33. API集成与联调
  - [ ] 33.1 会员与支付模块联调
    - 联调套餐列表接口
    - 联调订单创建接口
    - 联调支付回调接口
    - 联调配额查询接口
  
  - [ ] 33.2 论文管理模块联调
    - 联调论文CRUD接口
    - 联调大纲生成接口
    - 联调章节生成接口
    - 联调导出接口
  
  - [ ] 33.3 AI优化模块联调
    - 联调去AI化接口
    - 联调内容润色接口
    - 联调AIGC检测接口
    - 联调查重接口
  
  - [ ] 33.4 模板管理模块联调
    - 联调模板列表接口
    - 联调模板上传接口
    - 联调模板应用接口
  
  - [ ] 33.5 管理后台模块联调
    - 联调用户管理接口
    - 联调订单管理接口
    - 联调统计报表接口

- [ ] 34. WebSocket实时通信
  - [ ] 34.1 实现WebSocket服务端
    - 实现连接管理
    - 实现消息广播
    - 实现心跳检测
  
  - [ ] 34.2 实现WebSocket客户端
    - 实现自动重连
    - 实现消息处理
    - 实现状态同步
  
  - [ ] 34.3 实现实时功能
    - 实现AI生成进度实时推送
    - 实现配额变更实时通知
    - 实现支付状态实时更新

- [ ] 35. 检查点 - 集成验证
  - 进行完整的端到端测试
  - 测试所有实时功能
  - 验证错误处理
  - 询问用户是否有问题

---

### 部署与运维任务

- [ ] 36. Docker容器化
  - [ ] 36.1 编写Dockerfile
    - 编写后端Dockerfile
    - 编写前端Dockerfile
    - 优化镜像大小
  
  - [ ] 36.2 编写docker-compose.yml
    - 配置后端服务
    - 配置前端服务
    - 配置MySQL服务
    - 配置Redis服务
    - 配置Nginx服务
  
  - [ ] 36.3 配置Nginx
    - 配置反向代理
    - 配置静态文件服务
    - 配置HTTPS
    - 配置负载均衡（可选）

- [ ] 37. CI/CD流程
  - [ ] 37.1 配置GitHub Actions
    - 配置代码检查工作流
    - 配置测试工作流
    - 配置构建工作流
    - 配置部署工作流
  
  - [ ] 37.2 配置环境变量管理
    - 配置开发环境变量
    - 配置测试环境变量
    - 配置生产环境变量
    - 使用GitHub Secrets管理敏感信息

- [ ] 38. 监控与日志
  - [ ] 38.1 实现日志系统
    - 配置日志级别
    - 配置日志轮转
    - 实现错误日志收集
    - 实现访问日志记录
  
  - [ ] 38.2 实现监控系统
    - 配置性能监控
    - 配置错误监控
    - 配置告警规则
    - 实现健康检查接口
  
  - [ ] 38.3 实现备份策略
    - 配置数据库自动备份
    - 配置文件存储备份
    - 配置备份恢复测试

- [ ] 39. 文档与培训
  - [ ] 39.1 编写部署文档
    - 编写环境准备文档
    - 编写部署步骤文档
    - 编写故障排查文档
  
  - [ ] 39.2 编写用户文档
    - 编写用户使用手册
    - 编写常见问题FAQ
    - 录制操作视频教程
  
  - [ ] 39.3 编写开发文档
    - 编写API文档（Swagger）
    - 编写组件文档（Storybook）
    - 编写贡献指南

- [ ] 40. 检查点 - 部署验证
  - 在测试环境完整部署
  - 进行压力测试
  - 验证监控和告警
  - 进行灾难恢复演练
  - 询问用户是否有问题

---

## 预估时间（更新）

- **P0核心功能（后端）**: 4-6周
- **P0核心功能（前端）**: 4-5周
- **P1重要功能（后端）**: 3-4周
- **P1重要功能（前端）**: 2-3周
- **P2增强功能（后端）**: 2-3周
- **P2增强功能（前端）**: 2周
- **单项功能购买**: 1-2周
- **前后端集成**: 2周
- **测试和优化**: 2-3周
- **部署与运维**: 1-2周
- **文档与培训**: 1周

**总计**: 24-35周（约6-9个月）

**并行开发建议**:
- 前后端可以并行开发（基于API文档）
- P0完成后可以开始集成和测试
- 部署准备可以在开发中期开始

**最快交付路径**（MVP）:
- 只实现P0核心功能: 8-10周
- 前后端并行开发: 可缩短至6-8周
- 跳过单项功能购买: 再缩短1周
