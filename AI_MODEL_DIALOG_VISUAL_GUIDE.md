# AI模型编辑对话框 - 可视化指南

## 对话框完整布局

当用户点击"新增模型"或"编辑"按钮时，会看到以下对话框：

```
╔═══════════════════════════════════════════════════════════════╗
║  新增AI模型                                            [×]    ║
╠═══════════════════════════════════════════════════════════════╣
║                                                               ║
║  模型类型 *                                                   ║
║  ◉ 语言模型    ○ 视觉模型                                     ║
║  💡 语言模型用于文本生成、论文写作；视觉模型用于图像识别、验证码识别 ║
║                                                               ║
║  提供商 *                                                     ║
║  ┌─────────────────────────────────────────────────┐         ║
║  │ OpenAI                                      ▼  │         ║
║  └─────────────────────────────────────────────────┘         ║
║                                                               ║
║  模型名称 *                                                   ║
║  ┌─────────────────────────────────────────────────┐         ║
║  │ GPT-4o                                          │         ║
║  └─────────────────────────────────────────────────┘         ║
║                                                               ║
║  模型代码 *                                                   ║
║  ┌─────────────────────────────────────────────────┐         ║
║  │ openai                                          │         ║
║  └─────────────────────────────────────────────────┘         ║
║                                                               ║
║  模型版本 *                                                   ║
║  ┌─────────────────────────────────────────────────┐         ║
║  │ gpt-4o                                          │         ║
║  └─────────────────────────────────────────────────┘         ║
║                                                               ║
║  API Key                                                      ║
║  ┌─────────────────────────────────────────────────┐         ║
║  │ ••••••••••••••••••••••••••••••••••••••••   [👁] │         ║
║  └─────────────────────────────────────────────────┘         ║
║                                                               ║
║  API地址 *                                                    ║
║  ┌─────────────────────────────────────────────────┐         ║
║  │ https://api.openai.com/v1                       │         ║
║  └─────────────────────────────────────────────────┘         ║
║                                                               ║
║  API端点                                                      ║
║  ┌─────────────────────────────────────────────────┐         ║
║  │ /chat/completions                               │         ║
║  └─────────────────────────────────────────────────┘         ║
║                                                               ║
║  最大Token *          优先级 *                                ║
║  ┌──────────────┐    ┌──────────────┐                        ║
║  │ 4096    [±] │    │ 100     [±] │                        ║
║  └──────────────┘    └──────────────┘                        ║
║                                                               ║
║  温度 *               Top P *                                 ║
║  ┌──────────────┐    ┌──────────────┐                        ║
║  │ 0.7     [±] │    │ 0.9     [±] │                        ║
║  └──────────────┘    └──────────────┘                        ║
║                                                               ║
║  备注                                                         ║
║  ┌─────────────────────────────────────────────────┐         ║
║  │                                                 │         ║
║  └─────────────────────────────────────────────────┘         ║
║                                                               ║
║                        ┌────────┐  ┌────────┐                ║
║                        │  取消  │  │  确定  │                ║
║                        └────────┘  └────────┘                ║
╚═══════════════════════════════════════════════════════════════╝
```

## 字段说明

### 1. 模型类型 * (必填)
- **控件类型**: 单选框 (Radio Group)
- **选项**: 
  - 🔵 语言模型 (language)
  - 🟠 视觉模型 (vision)
- **默认值**: 语言模型
- **提示文字**: "语言模型用于文本生成、论文写作；视觉模型用于图像识别、验证码识别"

### 2. 提供商 * (必填)
- **控件类型**: 下拉选择框 (Select)
- **选项**:
  - OpenAI
  - Anthropic (Claude)
  - Qwen (通义千问)
  - 自定义
- **默认值**: OpenAI

### 3. 模型名称 * (必填)
- **控件类型**: 文本输入框
- **示例**: GPT-4o, Claude 3.5 Sonnet, Qwen Max
- **验证**: 不能为空，最大100字符

### 4. 模型代码 * (必填)
- **控件类型**: 文本输入框
- **示例**: openai, claude, qwen
- **验证**: 不能为空，最大50字符

### 5. 模型版本 * (必填)
- **控件类型**: 文本输入框
- **示例**: gpt-4o, claude-3-5-sonnet-20241022, qwen-max
- **验证**: 不能为空，最大50字符

### 6. API Key
- **控件类型**: 密码输入框（带显示/隐藏按钮）
- **示例**: sk-xxx, sk-ant-xxx
- **功能**: 点击眼睛图标可切换显示/隐藏

### 7. API地址 * (必填)
- **控件类型**: 文本输入框
- **示例**: https://api.openai.com/v1
- **验证**: 不能为空，最大200字符

### 8. API端点
- **控件类型**: 文本输入框
- **示例**: /chat/completions, /v1/messages

### 9. 最大Token * (必填)
- **控件类型**: 数字输入框
- **范围**: 1 - 100000
- **默认值**: 4096

### 10. 优先级 * (必填)
- **控件类型**: 数字输入框
- **范围**: 0 - 999
- **默认值**: 50
- **说明**: 数字越大优先级越高

### 11. 温度 * (必填)
- **控件类型**: 数字输入框
- **范围**: 0.0 - 2.0
- **步长**: 0.1
- **默认值**: 0.7

### 12. Top P * (必填)
- **控件类型**: 数字输入框
- **范围**: 0.0 - 1.0
- **步长**: 0.1
- **默认值**: 0.9

### 13. 备注
- **控件类型**: 多行文本框
- **行数**: 2行

## 提供商下拉框选项详情

当点击"提供商"下拉框时，会显示：

```
┌─────────────────────────────────────┐
│ OpenAI                              │ ← 选中时高亮
├─────────────────────────────────────┤
│ Anthropic (Claude)                  │
├─────────────────────────────────────┤
│ Qwen (通义千问)                      │
├─────────────────────────────────────┤
│ 自定义                               │
└─────────────────────────────────────┘
```

## 模型类型单选框详情

```
模型类型 *
┌─────────────────────────────────────┐
│ ◉ 语言模型    ○ 视觉模型            │
└─────────────────────────────────────┘
💡 语言模型用于文本生成、论文写作；
   视觉模型用于图像识别、验证码识别
```

## 使用场景示例

### 场景1: 添加OpenAI语言模型

```
模型类型:  ◉ 语言模型  ○ 视觉模型
提供商:    OpenAI
模型名称:  GPT-4o
模型代码:  openai
模型版本:  gpt-4o
API Key:   sk-proj-xxxxxxxxxxxxx
API地址:   https://api.openai.com/v1
API端点:   /chat/completions
最大Token: 4096
优先级:    100
温度:      0.7
Top P:     0.9
```

### 场景2: 添加Claude视觉模型

```
模型类型:  ○ 语言模型  ◉ 视觉模型
提供商:    Anthropic (Claude)
模型名称:  Claude 3.5 Vision
模型代码:  claude
模型版本:  claude-3-5-sonnet-20241022
API Key:   sk-ant-xxxxxxxxxxxxx
API地址:   https://api.anthropic.com
API端点:   /v1/messages
最大Token: 4096
优先级:    90
温度:      0.7
Top P:     0.9
```

### 场景3: 添加通义千问语言模型

```
模型类型:  ◉ 语言模型  ○ 视觉模型
提供商:    Qwen (通义千问)
模型名称:  通义千问Max
模型代码:  qwen
模型版本:  qwen-max
API Key:   sk-xxxxxxxxxxxxx
API地址:   https://dashscope.aliyuncs.com/api/v1
API端点:   /services/aigc/text-generation/generation
最大Token: 8192
优先级:    85
温度:      0.7
Top P:     0.9
```

## 验证提示

### 必填字段未填写
```
┌─────────────────────────────────────┐
│ ⚠️ 请选择模型类型                    │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│ ⚠️ 请选择提供商                      │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│ ⚠️ 请输入模型名称                    │
└─────────────────────────────────────┘
```

### 成功提示
```
┌─────────────────────────────────────┐
│ ✅ 新增成功                          │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│ ✅ 修改成功                          │
└─────────────────────────────────────┘
```

## 卡片显示效果

添加/编辑完成后，模型卡片会显示：

```
╔═══════════════════════════════════════════════╗
║  🖥️ GPT-4o  [默认] [预设]          [启用 ⚪]  ║
╠═══════════════════════════════════════════════╣
║  模型类型: [语言模型]                         ║
║  模型版本: gpt-4o                             ║
║  提供商:   [openai]                           ║
║  API状态:  [已配置]                           ║
║  优先级:   ★★★★★                             ║
║  说明:     最新的GPT-4o模型                   ║
╠═══════════════════════════════════════════════╣
║  [编辑] [测试] [设为默认] [删除]              ║
╚═══════════════════════════════════════════════╝
```

## 颜色标识

- 🔵 **语言模型**: 蓝色标签 (type="primary")
- 🟠 **视觉模型**: 橙色标签 (type="warning")
- 🟢 **已配置**: 绿色标签 (type="success")
- 🔴 **未配置**: 红色标签 (type="danger")
- ⚪ **普通标签**: 灰色标签 (type="info")

## 交互流程

### 新增模型流程
1. 用户点击"新增模型"按钮
2. 对话框打开，显示空表单
3. 用户选择模型类型（默认：语言模型）
4. 用户选择提供商（默认：OpenAI）
5. 用户填写其他必填字段
6. 用户点击"确定"
7. 系统验证表单
8. 提交数据到后端
9. 显示成功提示
10. 刷新模型列表
11. 对话框关闭

### 编辑模型流程
1. 用户点击模型卡片的"编辑"按钮
2. 对话框打开，自动填充现有数据
3. 用户修改需要更改的字段
4. 用户点击"确定"
5. 系统验证表单
6. 提交更新到后端
7. 显示成功提示
8. 刷新模型列表
9. 对话框关闭

## 键盘快捷键

- `Tab`: 在字段间切换
- `Enter`: 提交表单（焦点在输入框时）
- `Esc`: 关闭对话框
- `Space`: 切换单选框/复选框

## 响应式布局

对话框宽度固定为 600px，在小屏幕上会自动调整：

- **桌面**: 600px 宽度，居中显示
- **平板**: 90% 宽度，最大 600px
- **手机**: 95% 宽度，全屏显示

## 总结

✅ **用户体验优化**:
- 清晰的字段标签和提示
- 合理的默认值
- 完善的表单验证
- 友好的错误提示
- 直观的视觉反馈

✅ **功能完整性**:
- 支持语言模型和视觉模型
- 支持多种提供商
- 支持自定义配置
- 支持参数调整
- 支持优先级设置

现在用户可以轻松地在对话框中配置AI模型，系统会根据选择的模型类型和提供商自动处理相应的逻辑。
