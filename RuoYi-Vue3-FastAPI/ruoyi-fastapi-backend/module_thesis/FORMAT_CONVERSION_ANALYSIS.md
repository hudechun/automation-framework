# æ ¼å¼è½¬æ¢éœ€æ±‚åˆ†æ - æ¹–å—å¸ˆèŒƒå¤§å­¦æ ¼å¼è¦æ±‚

## ä¸€ã€æ ¼å¼å·®å¼‚åˆ†æ

### 1.1 ç« èŠ‚ç¼–å·æ–¹å¼å·®å¼‚

| è¦æ±‚æ ¼å¼ | è®ºæ–‡ç°çŠ¶ | å·®å¼‚ |
|---------|---------|------|
| **ç¬¬ä¸€ç«  å¼•è¨€** | **1.1 ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰** | ç¼ºå°‘"ç¬¬Xç« "å‰ç¼€ |
| **ç¬¬äºŒç«  ç ”ç©¶é—®é¢˜æ¦‚è¿°** | **2.1 äººå·¥æ™ºèƒ½çš„å®šä¹‰** | ç¼–å·æ–¹å¼ä¸åŒ |
| **1.1 å­æ ‡é¢˜** | **1.1 ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰** | ä¸€çº§æ ‡é¢˜è¢«å½“ä½œäºŒçº§æ ‡é¢˜ |

**é—®é¢˜**ï¼š
- è®ºæ–‡ä½¿ç”¨ `1.1, 2.1, 3.1...` ä½œä¸ºä¸€çº§æ ‡é¢˜
- æ ¼å¼è¦æ±‚ä½¿ç”¨ `ç¬¬ä¸€ç« , ç¬¬äºŒç« , ç¬¬ä¸‰ç« ...` ä½œä¸ºä¸€çº§æ ‡é¢˜
- éœ€è¦å°† `1.1` è½¬æ¢ä¸º `ç¬¬ä¸€ç« `ï¼Œ`2.1` è½¬æ¢ä¸º `ç¬¬äºŒç« `ï¼Œä»¥æ­¤ç±»æ¨

---

### 1.2 æ‘˜è¦å’Œå…³é”®è¯ä½ç½®å·®å¼‚

| è¦æ±‚æ ¼å¼ | è®ºæ–‡ç°çŠ¶ | å·®å¼‚ |
|---------|---------|------|
| **ç‹¬ç«‹æˆé¡µçš„"æ‘˜è¦"** | **ç¬¬ä¸€ç« åŒ…å«æ‘˜è¦å†…å®¹** | æ‘˜è¦åº”è¯¥ç‹¬ç«‹ï¼Œä¸æ˜¯ç« èŠ‚çš„ä¸€éƒ¨åˆ† |
| **ç‹¬ç«‹æˆé¡µçš„"å…³é”®è¯"** | **å®Œå…¨ç¼ºå¤±** | éœ€è¦æ·»åŠ å…³é”®è¯éƒ¨åˆ† |
| **ä½ç½®ï¼šç›®å½•ä¹‹å** | **ä½ç½®ï¼šä½œä¸ºç¬¬ä¸€ç« å†…å®¹** | ä½ç½®é”™è¯¯ |

**é—®é¢˜**ï¼š
- æ‘˜è¦åº”è¯¥æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç« èŠ‚ï¼ˆä¸æ˜¯"ç¬¬ä¸€ç« "ï¼‰
- å…³é”®è¯åº”è¯¥ç´§è·Ÿåœ¨æ‘˜è¦ä¹‹å
- éœ€è¦ä»ç¬¬ä¸€ç« ä¸­æå–æ‘˜è¦å†…å®¹ï¼Œåˆ›å»ºç‹¬ç«‹çš„æ‘˜è¦ç« èŠ‚

---

### 1.3 æ ‡é¢˜æ ¼å¼å·®å¼‚

| è¦æ±‚æ ¼å¼ | è®ºæ–‡ç°çŠ¶ | å·®å¼‚ |
|---------|---------|------|
| **ä¸€çº§æ ‡é¢˜ï¼šç¬¬Xç« ** | **ä¸€çº§æ ‡é¢˜ï¼šX.Y** | æ ‡é¢˜æ ¼å¼å®Œå…¨ä¸åŒ |
| **äºŒçº§æ ‡é¢˜ï¼š1.1** | **äºŒçº§æ ‡é¢˜ï¼šå¯èƒ½æ˜¯1.1.1** | å±‚çº§å…³ç³»éœ€è¦è°ƒæ•´ |
| **ä¸‰çº§æ ‡é¢˜ï¼š1.1.1** | **ä¸‰çº§æ ‡é¢˜ï¼šå¯èƒ½ç¼ºå¤±** | éœ€è¦é‡æ–°ç»„ç»‡å±‚çº§ |

**é—®é¢˜**ï¼š
- éœ€è¦è¯†åˆ«å½“å‰çš„ä¸€çº§æ ‡é¢˜ï¼ˆå¦‚"1.1"ï¼‰ï¼Œè½¬æ¢ä¸º"ç¬¬ä¸€ç« "
- éœ€è¦é‡æ–°ç»„ç»‡æ ‡é¢˜å±‚çº§å…³ç³»

---

### 1.4 ç»“è®º/ç»“è¯­å‘½åå·®å¼‚

| è¦æ±‚æ ¼å¼ | è®ºæ–‡ç°çŠ¶ | å·®å¼‚ |
|---------|---------|------|
| **"ç»“è¯­"** | **"ç¬¬ä¸ƒç«  ç»“è®º"** | å‘½åä¸åŒï¼Œä¸”ä¸åº”è¯¥æœ‰ç« èŠ‚ç¼–å· |

**é—®é¢˜**ï¼š
- "ç»“è®º"åº”è¯¥æ”¹ä¸º"ç»“è¯­"
- "ç»“è¯­"ä¸åº”è¯¥æœ‰ç« èŠ‚ç¼–å·ï¼ˆä¸æ˜¯"ç¬¬ä¸ƒç« "ï¼‰

---

### 1.5 å‚è€ƒæ–‡çŒ®ä½ç½®å·®å¼‚

| è¦æ±‚æ ¼å¼ | è®ºæ–‡ç°çŠ¶ | å·®å¼‚ |
|---------|---------|------|
| **ç‹¬ç«‹éƒ¨åˆ†"å‚è€ƒæ–‡çŒ®"** | **"ç¬¬å…«ç«  å‚è€ƒæ–‡çŒ®"** | ä¸åº”è¯¥ä½œä¸ºç« èŠ‚ |

**é—®é¢˜**ï¼š
- "å‚è€ƒæ–‡çŒ®"åº”è¯¥æ˜¯ç‹¬ç«‹éƒ¨åˆ†ï¼Œä¸æ˜¯"ç¬¬å…«ç« "
- éœ€è¦ç§»é™¤ç« èŠ‚ç¼–å·

---

## äºŒã€è½¬æ¢éœ€æ±‚

### 2.1 ç« èŠ‚ç¼–å·è½¬æ¢

**è½¬æ¢è§„åˆ™**ï¼š
```
1.1 â†’ ç¬¬ä¸€ç« 
2.1 â†’ ç¬¬äºŒç« 
3.1 â†’ ç¬¬ä¸‰ç« 
...
```

**å®ç°é€»è¾‘**ï¼š
1. è¯†åˆ«ä»¥æ•°å­—å¼€å¤´çš„ä¸€çº§æ ‡é¢˜ï¼ˆå¦‚"1.1"ã€"2.1"ï¼‰
2. æå–ç« èŠ‚ç¼–å·ï¼ˆ1, 2, 3...ï¼‰
3. è½¬æ¢ä¸ºä¸­æ–‡ç« èŠ‚ç¼–å·ï¼ˆç¬¬ä¸€ç« ã€ç¬¬äºŒç« ã€ç¬¬ä¸‰ç« ...ï¼‰
4. æå–æ ‡é¢˜æ–‡æœ¬ï¼ˆå»æ‰ç¼–å·éƒ¨åˆ†ï¼‰

**ç¤ºä¾‹**ï¼š
- è¾“å…¥ï¼š`1.1 ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰`
- è¾“å‡ºï¼š`ç¬¬ä¸€ç«  ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰`

---

### 2.2 æ‘˜è¦å’Œå…³é”®è¯æå–

**è½¬æ¢è§„åˆ™**ï¼š
1. ä»ç¬¬ä¸€ç« ä¸­è¯†åˆ«æ‘˜è¦å†…å®¹
2. åˆ›å»ºç‹¬ç«‹çš„"æ‘˜è¦"ç« èŠ‚ï¼ˆæ— ç¼–å·ï¼‰
3. åˆ›å»ºç‹¬ç«‹çš„"å…³é”®è¯"ç« èŠ‚ï¼ˆæ— ç¼–å·ï¼‰
4. è°ƒæ•´åç»­ç« èŠ‚ç¼–å·

**å®ç°é€»è¾‘**ï¼š
1. è¯†åˆ«ç¬¬ä¸€ç« ä¸­åŒ…å«æ‘˜è¦å†…å®¹çš„éƒ¨åˆ†
2. æå–æ‘˜è¦æ–‡æœ¬
3. åˆ›å»ºç‹¬ç«‹çš„æ‘˜è¦ç« èŠ‚ï¼ˆorder_num = 0ï¼Œlevel = 0ï¼‰
4. åˆ›å»ºç‹¬ç«‹çš„å…³é”®è¯ç« èŠ‚ï¼ˆorder_num = 1ï¼Œlevel = 0ï¼‰
5. å°†åŸç¬¬ä¸€ç« çš„å‰©ä½™å†…å®¹ä½œä¸ºæ–°çš„ç¬¬ä¸€ç« 

---

### 2.3 æ ‡é¢˜å±‚çº§é‡ç»„

**è½¬æ¢è§„åˆ™**ï¼š
- åŸä¸€çº§æ ‡é¢˜ï¼ˆ1.1, 2.1...ï¼‰â†’ æ–°ä¸€çº§æ ‡é¢˜ï¼ˆç¬¬ä¸€ç« , ç¬¬äºŒç« ...ï¼‰
- åŸäºŒçº§æ ‡é¢˜ï¼ˆ1.1.1, 1.1.2...ï¼‰â†’ æ–°äºŒçº§æ ‡é¢˜ï¼ˆ1.1, 1.2...ï¼‰
- åŸä¸‰çº§æ ‡é¢˜ï¼ˆ1.1.1.1...ï¼‰â†’ æ–°ä¸‰çº§æ ‡é¢˜ï¼ˆ1.1.1, 1.1.2...ï¼‰

**å®ç°é€»è¾‘**ï¼š
1. è¯†åˆ«æ‰€æœ‰æ ‡é¢˜çš„å½“å‰å±‚çº§
2. æ ¹æ®ç« èŠ‚ç¼–å·è½¬æ¢è§„åˆ™è°ƒæ•´å±‚çº§
3. é‡æ–°åˆ†é…levelå€¼

---

### 2.4 ç‰¹æ®Šç« èŠ‚å¤„ç†

**è½¬æ¢è§„åˆ™**ï¼š
- "ç»“è®º" â†’ "ç»“è¯­"ï¼ˆç§»é™¤ç« èŠ‚ç¼–å·ï¼‰
- "å‚è€ƒæ–‡çŒ®" â†’ "å‚è€ƒæ–‡çŒ®"ï¼ˆç§»é™¤ç« èŠ‚ç¼–å·ï¼‰
- "è‡´è°¢" â†’ "è‡´è°¢"ï¼ˆç§»é™¤ç« èŠ‚ç¼–å·ï¼‰

**å®ç°é€»è¾‘**ï¼š
1. è¯†åˆ«ç‰¹æ®Šç« èŠ‚ï¼ˆç»“è®ºã€å‚è€ƒæ–‡çŒ®ã€è‡´è°¢ï¼‰
2. ç§»é™¤ç« èŠ‚ç¼–å·
3. è®¾ç½®ä¸ºç‹¬ç«‹ç« èŠ‚ï¼ˆlevel = 0ï¼Œorder_num æŒ‰é¡ºåºï¼‰

---

## ä¸‰ã€æŒ‡ä»¤ç³»ç»Ÿæ”¯æŒæƒ…å†µ

### 3.1 ç« èŠ‚ç¼–å·è½¬æ¢

**å½“å‰æ”¯æŒ**ï¼šâš ï¸ **éƒ¨åˆ†æ”¯æŒ**

- âœ… `application_rules.heading_detection` å¯ä»¥å®šä¹‰æ ‡é¢˜è¯†åˆ«è§„åˆ™
- âš ï¸ éœ€è¦æ·»åŠ ç« èŠ‚ç¼–å·è½¬æ¢è§„åˆ™

**éœ€è¦æ·»åŠ **ï¼š
```json
{
  "application_rules": {
    "heading_detection": "é€šè¿‡æ®µè½å‰ç¼€æ•°å­—è¯†åˆ«å±‚çº§",
    "chapter_numbering_conversion": {
      "enabled": true,
      "source_format": "X.Yï¼ˆå¦‚ï¼š1.1, 2.1ï¼‰",
      "target_format": "ç¬¬Xç« ï¼ˆå¦‚ï¼šç¬¬ä¸€ç« , ç¬¬äºŒç« ï¼‰",
      "conversion_rules": {
        "pattern": "^\\d+\\.\\d+\\s+(.+)$",
        "replacement": "ç¬¬{chapter_num}ç«  {title}"
      }
    }
  }
}
```

---

### 2.2 æ‘˜è¦å’Œå…³é”®è¯æå–

**å½“å‰æ”¯æŒ**ï¼šâœ… **å®Œå…¨æ”¯æŒ**

- âœ… `special_sections.abstract` æ”¯æŒæ‘˜è¦æ ¼å¼
- âœ… `special_sections.keywords` æ”¯æŒå…³é”®è¯æ ¼å¼
- âœ… `application_rules.document_structure.section_order` å®šä¹‰äº†ç« èŠ‚é¡ºåº

**å®ç°æ–¹å¼**ï¼š
- åœ¨æ ¼å¼åŒ–æ—¶ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰ç‹¬ç«‹çš„æ‘˜è¦ç« èŠ‚
- å¦‚æœæ²¡æœ‰ï¼Œå¯ä»¥ä»ç¬¬ä¸€ç« ä¸­æå–æ‘˜è¦å†…å®¹
- åˆ›å»ºç‹¬ç«‹çš„æ‘˜è¦å’Œå…³é”®è¯ç« èŠ‚

---

### 2.3 æ ‡é¢˜å±‚çº§é‡ç»„

**å½“å‰æ”¯æŒ**ï¼šâœ… **å®Œå…¨æ”¯æŒ**

- âœ… `headings.h1, h2, h3` æ”¯æŒå¤šçº§æ ‡é¢˜æ ¼å¼
- âœ… ç« èŠ‚çš„ `level` å±æ€§å¯ä»¥è°ƒæ•´

**å®ç°æ–¹å¼**ï¼š
- åœ¨æ ¼å¼åŒ–æ—¶ï¼Œæ ¹æ®ç« èŠ‚ç¼–å·è½¬æ¢è§„åˆ™è°ƒæ•´ `level`
- é‡æ–°ç»„ç»‡æ ‡é¢˜å±‚çº§

---

### 2.4 ç‰¹æ®Šç« èŠ‚å¤„ç†

**å½“å‰æ”¯æŒ**ï¼šâœ… **å®Œå…¨æ”¯æŒ**

- âœ… `special_section_detection` å¯ä»¥è¯†åˆ«ç‰¹æ®Šç« èŠ‚
- âœ… `special_sections.conclusion` æ”¯æŒç»“è®ºæ ¼å¼
- âœ… `special_sections.references` æ”¯æŒå‚è€ƒæ–‡çŒ®æ ¼å¼
- âœ… `special_sections.acknowledgement` æ”¯æŒè‡´è°¢æ ¼å¼

**éœ€è¦æ·»åŠ **ï¼š
- ç‰¹æ®Šç« èŠ‚çš„å‘½åè½¬æ¢è§„åˆ™ï¼ˆ"ç»“è®º" â†’ "ç»“è¯­"ï¼‰
- ç§»é™¤ç‰¹æ®Šç« èŠ‚çš„ç¼–å·

---

## å››ã€è½¬æ¢å®ç°æ–¹æ¡ˆ

### 4.1 ç« èŠ‚ç¼–å·è½¬æ¢æ–¹æ³•

åœ¨ `format_service.py` ä¸­æ·»åŠ ï¼š

```python
@classmethod
def _convert_chapter_numbering(
    cls,
    chapters: list,
    conversion_rules: Dict[str, Any]
) -> list:
    """
    è½¬æ¢ç« èŠ‚ç¼–å·æ ¼å¼
    
    :param chapters: ç« èŠ‚åˆ—è¡¨
    :param conversion_rules: è½¬æ¢è§„åˆ™
    :return: è½¬æ¢åçš„ç« èŠ‚åˆ—è¡¨
    """
    import re
    
    if not conversion_rules.get('enabled', False):
        return chapters
    
    converted_chapters = []
    chapter_num = 1
    
    for chapter in chapters:
        title = getattr(chapter, 'title', '')
        
        # åŒ¹é… X.Y æ ¼å¼çš„æ ‡é¢˜ï¼ˆå¦‚ï¼š1.1, 2.1ï¼‰
        pattern = conversion_rules.get('pattern', r'^(\d+)\.\d+\s+(.+)$')
        match = re.match(pattern, title)
        
        if match:
            # æå–ç« èŠ‚ç¼–å·å’Œæ ‡é¢˜æ–‡æœ¬
            source_num = int(match.group(1))
            title_text = match.group(2)
            
            # è½¬æ¢ä¸º"ç¬¬Xç« "æ ¼å¼
            chapter.title = f"ç¬¬{cls._number_to_chinese(source_num)}ç«  {title_text}"
            chapter.level = 1  # è®¾ç½®ä¸ºä¸€çº§æ ‡é¢˜
            chapter_num = source_num
        else:
            # æ£€æŸ¥æ˜¯å¦æ˜¯ç‰¹æ®Šç« èŠ‚ï¼ˆç»“è®ºã€å‚è€ƒæ–‡çŒ®ã€è‡´è°¢ï¼‰
            if any(keyword in title for keyword in ['ç»“è®º', 'ç»“è¯­', 'å‚è€ƒæ–‡çŒ®', 'è‡´è°¢']):
                # ç§»é™¤ç« èŠ‚ç¼–å·
                title = re.sub(r'^ç¬¬\d+ç« \s+', '', title)
                title = re.sub(r'^\d+\.\d+\s+', '', title)
                chapter.title = title
                chapter.level = 0  # ç‰¹æ®Šç« èŠ‚ï¼Œæ— å±‚çº§
            
            converted_chapters.append(chapter)
    
    return converted_chapters

@classmethod
def _number_to_chinese(cls, num: int) -> str:
    """å°†æ•°å­—è½¬æ¢ä¸ºä¸­æ–‡"""
    chinese_nums = ['', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­', 'ä¸ƒ', 'å…«', 'ä¹', 'å']
    if num <= 10:
        return chinese_nums[num]
    elif num < 20:
        return 'å' + chinese_nums[num % 10]
    else:
        return chinese_nums[num // 10] + 'å' + chinese_nums[num % 10]
```

---

### 4.2 æ‘˜è¦å’Œå…³é”®è¯æå–æ–¹æ³•

```python
@classmethod
def _extract_abstract_and_keywords(
    cls,
    chapters: list,
    format_config: Dict[str, Any]
) -> tuple[list, Dict[str, Any]]:
    """
    ä»ç¬¬ä¸€ç« ä¸­æå–æ‘˜è¦å’Œå…³é”®è¯ï¼Œåˆ›å»ºç‹¬ç«‹ç« èŠ‚
    
    :param chapters: ç« èŠ‚åˆ—è¡¨
    :param format_config: æ ¼å¼é…ç½®
    :return: (æ›´æ–°åçš„ç« èŠ‚åˆ—è¡¨, æ‘˜è¦å’Œå…³é”®è¯ä¿¡æ¯)
    """
    if not chapters:
        return chapters, {}
    
    first_chapter = chapters[0]
    content = getattr(first_chapter, 'content', '')
    
    # è¯†åˆ«æ‘˜è¦å†…å®¹ï¼ˆé€šå¸¸åœ¨ç¬¬ä¸€ç« å¼€å¤´ï¼‰
    abstract_match = re.search(r'(æ‘˜è¦|Abstract)[ï¼š:]\s*(.+?)(?=å…³é”®è¯|Key words|$)', content, re.DOTALL)
    keywords_match = re.search(r'(å…³é”®è¯|Key words)[ï¼š:]\s*(.+?)(?=\n\n|$)', content, re.DOTALL)
    
    abstract_info = {}
    keywords_info = {}
    
    if abstract_match:
        abstract_text = abstract_match.group(2).strip()
        abstract_info = {
            'title': 'æ‘˜è¦',
            'content': abstract_text,
            'level': 0,
            'order_num': -2  # åœ¨ç›®å½•ä¹‹å‰
        }
    
    if keywords_match:
        keywords_text = keywords_match.group(2).strip()
        keywords_info = {
            'title': 'å…³é”®è¯',
            'content': keywords_text,
            'level': 0,
            'order_num': -1  # åœ¨æ‘˜è¦ä¹‹å
        }
    
    # ä»ç¬¬ä¸€ç« ä¸­ç§»é™¤æ‘˜è¦å’Œå…³é”®è¯å†…å®¹
    if abstract_match or keywords_match:
        # ç§»é™¤æ‘˜è¦å’Œå…³é”®è¯éƒ¨åˆ†
        content = re.sub(r'(æ‘˜è¦|Abstract)[ï¼š:].+?(?=å…³é”®è¯|Key words|$)', '', content, flags=re.DOTALL)
        content = re.sub(r'(å…³é”®è¯|Key words)[ï¼š:].+?(?=\n\n|$)', '', content)
        first_chapter.content = content.strip()
    
    return chapters, {'abstract': abstract_info, 'keywords': keywords_info}
```

---

### 4.3 åœ¨æ ¼å¼åŒ–æ—¶åº”ç”¨è½¬æ¢

åœ¨ `format_thesis` æ–¹æ³•ä¸­ï¼š

```python
# 1. è¯»å–æ ¼å¼æŒ‡ä»¤
format_data = json.loads(template.format_data)

# 2. æ£€æŸ¥æ˜¯å¦éœ€è¦ç« èŠ‚ç¼–å·è½¬æ¢
conversion_rules = format_data.get('application_rules', {}).get('chapter_numbering_conversion', {})
if conversion_rules.get('enabled', False):
    # è½¬æ¢ç« èŠ‚ç¼–å·
    chapters = cls._convert_chapter_numbering(chapters, conversion_rules)

# 3. æå–æ‘˜è¦å’Œå…³é”®è¯
chapters, abstract_keywords = cls._extract_abstract_and_keywords(chapters, format_config)

# 4. å¦‚æœæœ‰æ‘˜è¦å’Œå…³é”®è¯ï¼Œæ’å…¥åˆ°ç« èŠ‚åˆ—è¡¨å¼€å¤´
if abstract_keywords.get('abstract'):
    abstract_chapter = create_chapter_from_info(abstract_keywords['abstract'])
    chapters.insert(0, abstract_chapter)

if abstract_keywords.get('keywords'):
    keywords_chapter = create_chapter_from_info(abstract_keywords['keywords'])
    chapters.insert(1, keywords_chapter)

# 5. ç»§ç»­æ ¼å¼åŒ–...
```

---

## äº”ã€æŒ‡ä»¤ç³»ç»Ÿå¢å¼ºå»ºè®®

### 5.1 æ·»åŠ ç« èŠ‚ç¼–å·è½¬æ¢é…ç½®

åœ¨ `application_rules` ä¸­æ·»åŠ ï¼š

```json
{
  "application_rules": {
    "heading_detection": "é€šè¿‡æ®µè½å‰ç¼€æ•°å­—è¯†åˆ«å±‚çº§",
    "chapter_numbering_conversion": {
      "enabled": true/falseï¼ˆæ˜¯å¦å¯ç”¨ç« èŠ‚ç¼–å·è½¬æ¢ï¼‰,
      "source_format": "æºæ ¼å¼ï¼ˆå¦‚ï¼šX.Yã€1.1ç­‰ï¼‰",
      "target_format": "ç›®æ ‡æ ¼å¼ï¼ˆå¦‚ï¼šç¬¬Xç« ã€ç¬¬ä¸€ç« ç­‰ï¼‰",
      "conversion_pattern": "è½¬æ¢æ¨¡å¼ï¼ˆæ­£åˆ™è¡¨è¾¾å¼ï¼‰",
      "special_chapters": {
        "conclusion": {
          "source_names": ["ç»“è®º", "ç»“è¯­"],
          "target_name": "ç»“è¯­",
          "remove_numbering": true
        },
        "references": {
          "source_names": ["å‚è€ƒæ–‡çŒ®"],
          "target_name": "å‚è€ƒæ–‡çŒ®",
          "remove_numbering": true
        }
      }
    }
  }
}
```

### 5.2 æ·»åŠ æ‘˜è¦æå–é…ç½®

åœ¨ `application_rules` ä¸­æ·»åŠ ï¼š

```json
{
  "application_rules": {
    "abstract_extraction": {
      "enabled": true/falseï¼ˆæ˜¯å¦ä»ç¬¬ä¸€ç« æå–æ‘˜è¦ï¼‰,
      "extraction_pattern": "æå–æ¨¡å¼ï¼ˆæ­£åˆ™è¡¨è¾¾å¼ï¼‰",
      "create_independent_section": trueï¼ˆæ˜¯å¦åˆ›å»ºç‹¬ç«‹ç« èŠ‚ï¼‰
    }
  }
}
```

---

## å…­ã€æ€»ç»“

### âœ… å½“å‰æŒ‡ä»¤ç³»ç»Ÿæ”¯æŒæƒ…å†µ

| åŠŸèƒ½ | æ”¯æŒåº¦ | è¯´æ˜ |
|------|--------|------|
| **ç« èŠ‚ç¼–å·è½¬æ¢** | âš ï¸ éƒ¨åˆ†æ”¯æŒ | éœ€è¦æ·»åŠ è½¬æ¢è§„åˆ™é…ç½® |
| **æ‘˜è¦å’Œå…³é”®è¯æå–** | âœ… å®Œå…¨æ”¯æŒ | å¯ä»¥é€šè¿‡ä»£ç å®ç° |
| **æ ‡é¢˜å±‚çº§é‡ç»„** | âœ… å®Œå…¨æ”¯æŒ | å¯ä»¥é€šè¿‡è°ƒæ•´levelå®ç° |
| **ç‰¹æ®Šç« èŠ‚å¤„ç†** | âœ… å®Œå…¨æ”¯æŒ | å·²æœ‰special_section_detection |

### ğŸ“ éœ€è¦å®ç°çš„åŠŸèƒ½

1. **ç« èŠ‚ç¼–å·è½¬æ¢**ï¼šå°† `1.1` æ ¼å¼è½¬æ¢ä¸º `ç¬¬ä¸€ç« ` æ ¼å¼
2. **æ‘˜è¦æå–**ï¼šä»ç¬¬ä¸€ç« ä¸­æå–æ‘˜è¦ï¼Œåˆ›å»ºç‹¬ç«‹ç« èŠ‚
3. **å…³é”®è¯æå–**ï¼šåˆ›å»ºç‹¬ç«‹çš„å…³é”®è¯ç« èŠ‚
4. **ç‰¹æ®Šç« èŠ‚å‘½å**ï¼šå°†"ç»“è®º"æ”¹ä¸º"ç»“è¯­"ï¼Œç§»é™¤ç¼–å·

### ğŸ¯ å®ç°å»ºè®®

1. **åœ¨æŒ‡ä»¤ç³»ç»Ÿä¸­æ·»åŠ è½¬æ¢è§„åˆ™é…ç½®**
2. **åœ¨æ ¼å¼åŒ–ä»£ç ä¸­å®ç°è½¬æ¢é€»è¾‘**
3. **æ”¯æŒè‡ªåŠ¨è¯†åˆ«å’Œè½¬æ¢**

**ç»“è®º**ï¼šå½“å‰æŒ‡ä»¤ç³»ç»Ÿ**å¯ä»¥æ”¯æŒ**è¿™äº›è½¬æ¢éœ€æ±‚ï¼Œä½†éœ€è¦æ·»åŠ è½¬æ¢è§„åˆ™é…ç½®å’Œå®ç°è½¬æ¢é€»è¾‘ã€‚
